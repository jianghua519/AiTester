# 自动化测试平台 UI/UX 设计方案

**版本**: 1.0  
**日期**: 2026-02-02  
**作者**: Manus AI

## 1. 引言

本文档旨在为 AI 驱动的自动化测试平台提供一个完整、一致且用户友好的界面(UI)和交互(UX)设计方案。本设计基于之前确定的 16 个核心功能,目标是创建一个直观、高效且易于上手的操作体验,同时支持多语言环境(中文、日文、英文)。


## 2. 信息架构与导航体系

清晰的信息架构(IA)是良好用户体验的基础。我们采用以任务为导向的设计方法,确保用户能够轻松地找到所需信息并完成操作。

### 2.1 设计哲学

- **一致性**: 整个平台使用统一的布局、图标和交互模式。
- **可预测性**: 相似的元素在不同页面上具有相同的行为。
- **可见性**: 系统状态清晰可见,用户始终了解当前所处的位置和正在发生的事情。
- **效率优先**: 为高频操作提供快捷方式,减少不必要的点击和页面跳转。

### 2.2 信息架构图

下图展示了平台的主要信息模块及其层级关系。

![信息架构图](/home/ubuntu/information_architecture.png)

### 2.3 导航体系

平台采用“全局主导航 + 上下文面包屑”的混合导航模式。

#### **主导航 (Primary Navigation)**

采用位于页面左侧的垂直导航栏,始终可见,提供对平台核心功能区的快速访问。这种布局在宽屏显示器上表现良好,且易于扩展。

- **仪表盘 (Dashboard)**: 平台首页,提供关键指标的概览,如最近的测试运行状态、用例通过率、活跃项目等。这是用户的“指挥中心”。
- **测试资产 (Test Assets)**: 这是测试管理的核心区域,包含三个子页面:
  - **测试用例 (Test Cases)**: 管理所有原子化的测试脚本。
  - **测试套件 (Test Suites)**: 将测试用例按功能或模块进行逻辑分组。
  - **测试计划 (Test Plans)**: 定义要执行的测试范围、环境和策略。
- **执行中心 (Execution)**: 监控和分析测试执行结果的区域。
  - **测试运行 (Test Runs)**: 查看所有历史测试运行的列表和详细报告。
  - **实时视图 (Live View)**: (可选高级功能)实时观看正在运行的测试桌面,用于调试。
- **CI/CD 集成**: 提供 API 密钥、Webhook 配置以及与 Jenkins, GitHub Actions 等集成的代码片段和文档。
- **设置 (Settings)**: 用户个人设置和项目级设置,如项目成员管理、集成配置等。

#### **顶部全局导航 (Global Header)**

页面顶部的横向导航栏,用于放置全局上下文切换和用户特定功能。

- **项目选择器 (Project Selector)**: 一个下拉菜单,允许用户在不同的项目之间快速切换。这是平台最重要的上下文控件。
- **系统管理 (System Admin)**: **仅对管理员角色可见**。包含用户管理、角色权限管理和审计日志等全局管理功能。
- **用户菜单 (User Menu)**: 包含指向个人资料、API 密钥管理、语言切换和登出操作的链接。

#### **面包屑导航 (Breadcrumbs)**

在每个页面的主内容区域顶部,提供一个面包屑导航路径,清晰地显示用户当前在信息架构中的位置,并允许快速返回上级页面。例如: `项目: Phoenix > 测试资产 > 测试计划 > 冒烟测试计划`。


## 3. 核心页面结构与交互流程

本节将详细描述几个核心页面的布局和关键交互流程,以阐明设计思想。

### 3.1 通用页面布局

所有核心页面都遵循一个标准的三栏式布局:

- **左栏 (主导航)**: 固定的垂直导航栏,宽度约为 240px。
- **中栏 (主内容区)**: 页面的核心工作区域,宽度自适应。
- **右栏 (上下文面板/详情面板)**: (可选)用于显示选中项的详细信息、相关操作或帮助文档,宽度约为 320px。默认收起,点击特定元素时滑出。

### 3.2 页面设计详解

#### **仪表盘 (Dashboard)**

- **布局**: 采用可定制的卡片式(Card-based)布局。
- **组件**: 
  - **项目概览卡片**: 显示当前项目的关键统计数据(用例总数、通过率、最近一次执行状态)。
  - **最近运行列表**: 一个紧凑的列表,显示最近 5 次测试运行的状态和链接。
  - **执行趋势图**: 一个面积图或折线图,展示过去 30 天内测试通过率的变化趋势。
  - **我的任务**: (可选)显示分配给当前用户的待处理任务或失败的测试。
- **交互**: 用户可以拖拽卡片来重新排列布局,并可以添加或删除卡片。

#### **测试用例页面 (Test Cases Page)**

- **布局**: 两栏式布局。左侧为用例列表,右侧为用例详情。
- **用例列表**: 
  - 使用虚拟化表格(Virtualization Table)来高效展示可能成千上万的用例。
  - 表格列包括: 用例名称、作者、最后修改时间、状态(如 Active, Deprecated)。
  - 提供强大的筛选和搜索功能: 按名称搜索、按标签筛选、按作者筛选。
  - 列表顶部有“创建用例”按钮。
- **用例详情**: 
  - 点击列表中的一个用例,其详细信息会显示在右侧面板或一个新的页面中。
  - 详情视图包含: 用例标题、描述、标签、以及一个**步骤编辑器**。
  - **步骤编辑器**: 这是核心交互区域。用户可以添加、删除、拖拽排序测试步骤。每个步骤包含: 动作(如 Click, Input)、目标元素(通过元素选择器或文本描述)、和值(如输入的文本)。
  - **AI 赋能**: 在步骤编辑器上方,提供一个“使用自然语言生成步骤”的输入框。用户输入“点击登录按钮”后,AI 会自动生成对应的结构化步骤。

#### **测试计划页面 (Test Plans Page)**

- **布局**: 与测试用例页面类似,左侧为计划列表,右侧为计划详情。
- **计划详情**: 
  - 包含计划的名称、描述。
  - **测试套件选择器**: 一个双栏穿梭框(Transfer),左侧是项目中所有可用的测试套件,右侧是已包含在本计划中的套件。用户可以方便地添加或移除。
  - **执行配置**: 一组表单控件,用于配置执行环境(如浏览器、移动设备)、执行策略(如并行数、失败重试次数)和通知设置(如失败时通知哪个 Slack 频道)。
  - **执行按钮**: 页面右上角有一个显眼的“执行”按钮,点击后会弹出一个确认对话框,并开始执行测试。

#### **测试运行详情页 (Test Run Details Page)**

- **布局**: 这是一个信息密度非常高的页面,用于展示一次测试执行的完整结果。
- **核心组件**: 
  - **概览头部**: 显示本次运行的总体状态(通过/失败)、开始/结束时间、总耗时、通过率等。
  - **用例结果列表**: 左侧是一个可筛选的列表,展示本次运行中所有测试用例的执行结果(通过、失败、跳过)。
  - **结果详情面板**: 点击左侧列表中的一个用例,右侧会显示该用例的详细执行情况。
    - **步骤快照**: 按顺序展示每个测试步骤的执行快照。每个步骤都包含: 步骤描述、执行状态、耗时,以及一个**屏幕截图**的缩略图。
    - **失败诊断**: 如果步骤失败,这里会突出显示错误信息。同时,一个 **AI 诊断**卡片会提供可能的失败原因和修复建议。
    - **产物下载**: 提供下载详细日志、HAR 文件和完整录屏视频的链接。

### 3.3 关键交互流程: 从创建到执行

1.  **创建用例**: 在“测试用例”页面,用户点击“创建用例”,在详情面板中通过步骤编辑器或自然语言定义测试步骤,然后保存。
2.  **组织套件**: 在“测试套件”页面,用户创建一个新的套件,然后从用例库中选择相关的测试用例添加进来。
3.  **制定计划**: 在“测试计划”页面,用户创建一个新的计划,然后从套件库中选择要执行的测试套件,并配置好执行环境。
4.  **执行与监控**: 用户点击“执行”按钮。页面跳转到新生成的“测试运行详情页”。页面会实时刷新,展示测试的执行进度。
5.  **分析与报告**: 测试完成后,用户可以在详情页中筛选失败的用例,点击查看每个步骤的截图和 AI 诊断,快速定位问题。用户还可以将本次运行的结果分享给团队成员。


## 4. 组件库与设计系统

为了确保 UI 的一致性和开发效率,我们将建立一个内部的设计系统(Design System),并实现一个对应的 React 组件库。

### 4.1 设计原则

- **原子化 (Atomic)**: 组件从最小的原子(如按钮、输入框)开始构建,然后组合成更大的分子(如表单)和组织(如页面头部)。
- **可复用 (Reusable)**: 组件是通用的,可以在平台的不同地方重复使用。
- **可配置 (Configurable)**: 组件通过 props 接受配置,以适应不同的使用场景。
- **无障碍 (Accessible)**: 所有组件都遵循 WAI-ARIA 标准,确保对屏幕阅读器等辅助技术的良好支持。

### 4.2 基础设计规范

- **色彩**: 
  - **主色**: #4F46E5 (靛蓝色) - 用于主要按钮、链接和焦点状态,传达科技感和可靠性。
  - **成功色**: #10B981 (绿色) - 用于成功状态、通过的测试。
  - **失败色**: #EF4444 (红色) - 用于错误信息、失败的测试。
  - **警告色**: #F59E0B (黄色) - 用于警告信息、跳过的测试。
  - **中性色**: 一系列从 #111827 (近黑) 到 #F9FAFB (近白) 的灰色,用于文本、背景和边框。
- **字体**: 
  - **UI 字体**: Inter - 一款专为屏幕显示设计的现代无衬线字体,清晰易读。
  - **代码字体**: Fira Code - 一款支持连字(ligatures)的等宽字体,用于显示代码和日志。
- **间距与网格**: 使用基于 8px 的网格系统。所有间距(margin, padding)和尺寸都应是 8 的倍数(8px, 16px, 24px...),以创建视觉上的和谐与韵律。
- **图标**: 使用一套统一的、线条风格的图标库(如 Heroicons),确保视觉一致性。

### 4.3 核心组件列表

以下是平台需要构建的一些关键自定义组件:

| 组件名称 | 描述与用途 |
| :--- | :--- |
| **ProjectSelector** | 位于顶栏的项目切换下拉菜单,包含搜索功能。 |
| **VirtualTable** | 高性能虚拟化表格,用于高效渲染大量数据行(如测试用例列表)。 |
| **StepEditor** | 测试用例步骤编辑器,支持拖拽排序、添加、删除步骤。 |
| **Transfer** | 双栏穿梭框,用于从一个列表中选择项目到另一个列表(如为测试计划选择套件)。 |
| **StatusIndicator** | 状态指示器,用不同颜色和图标显示状态(如 Passed, Failed, Running, Skipped)。 |
| **CodeBlock** | 代码显示块,支持语法高亮和一键复制,用于显示日志和代码片段。 |
| **Timeline** | 时间轴组件,用于在测试运行详情页中按时间顺序展示测试步骤和事件。 |
| **AICommandInput** | AI 命令输入框,支持自然语言输入并显示 AI 的处理状态和结果。 |
| **DonutChart** | 环形图,用于在仪表盘中可视化通过率等百分比数据。 |
| **DateRangePicker** | 日期范围选择器,用于筛选特定时间段内的测试运行。 |

### 4.4 多语言支持 (i18n)

- **技术方案**: 使用 `i18next` 及其 React 插件 `react-i18next`。
- **实现方式**: 
  - 所有界面上的静态文本都将从 JSON 语言文件中读取,而不是硬编码在代码中。
  - 为中文(zh)、日文(ja)、英文(en)分别创建独立的语言文件。
  - 在用户菜单中提供一个语言切换器,允许用户动态更改界面语言,选择将保存在本地存储中。

## 5. 总结

本 UI/UX 设计方案为自动化测试平台勾勒了一个清晰、现代且用户友好的界面蓝图。通过采用一致的导航体系、以任务为导向的页面布局和原子化的设计系统,我们可以构建一个不仅功能强大,而且使用体验愉悦的产品。

下一步是将这些设计原则和页面布局转化为高保真原型,并进行用户测试,以进一步验证和迭代设计方案。
